(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[113],{867:function(e,t,r){Promise.resolve().then(r.bind(r,5259))},5259:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var s=r(7437),n=r(2265),l=r(3116),o=r(5365);function a(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[i,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(null),[m,x]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[b,g]=(0,n.useState)(null),[p,B]=(0,n.useState)({alumniId:"",studentName:"",studentEmail:"",studentContact:"",researchTitle:"",researchDescription:"",consultationNeeds:""});(0,n.useEffect)(()=>{!async function(){try{let e=await fetch("/api/alumni");if(e.ok){let r=await e.json();t(r)}else{let t=await e.json();console.error("API Error:",t),g({type:"error",text:t.error||"Failed to load alumni list"})}}catch(e){console.error("Error loading alumni:",e),g({type:"error",text:"Error loading alumni"})}finally{a(!1)}}()},[]);let N=e.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.collegeCourse.toLowerCase().includes(i.toLowerCase())||e.currentOccupation.toLowerCase().includes(i.toLowerCase())),j=e=>{u(e),x(!0),B({alumniId:e.id,studentName:"",studentEmail:"",studentContact:"",researchTitle:"",researchDescription:"",consultationNeeds:""}),g(null)},E=async e=>{if(e.preventDefault(),!p.studentName||!p.studentEmail||!p.researchTitle||!p.consultationNeeds){g({type:"error",text:"Please fill in all required fields"});return}f(!0),g(null);try{let e=await fetch("/api/alumni/student-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,alumniEmail:null==c?void 0:c.email})});if(e.ok){let t=await e.json();g({type:"success",text:t.message}),B({alumniId:"",studentName:"",studentEmail:"",studentContact:"",researchTitle:"",researchDescription:"",consultationNeeds:""}),x(!1),u(null),setTimeout(()=>g(null),5e3)}else{let t=await e.json();"ACTIVE_REQUEST_EXISTS"===t.code?g({type:"error",text:t.error||"You have an active consultation request pending"}):g({type:"error",text:t.error||"Failed to send request"})}}catch(e){g({type:"error",text:"Error sending request"})}finally{f(!1)}},v=e=>{let{name:t,value:r}=e.target;B(e=>({...e,[t]:r}))};return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col bg-checkered",children:[(0,s.jsx)(l.h,{title:"Find Alumni for Your Research"}),(0,s.jsxs)("main",{className:"flex flex-1 flex-col px-6 py-8",children:[b&&(0,s.jsxs)("div",{className:"mb-6 mx-auto max-w-6xl rounded-lg p-4 text-center ".concat("success"===b.type?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"),children:[b.text,(0,s.jsx)("button",{onClick:()=>g(null),className:"ml-4 text-sm underline hover:no-underline",children:"Dismiss"})]}),(0,s.jsx)("div",{className:"mx-auto w-full max-w-6xl",children:m?(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"mb-4 text-[#A03E2D] hover:text-[#B23B3B] font-medium underline",children:"← Back to Alumni List"}),(0,s.jsxs)("div",{className:"rounded-xl border-2 border-[#A03E2D] bg-white p-8 shadow-lg",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-[#B23B3B] mb-2",children:["Request ",null==c?void 0:c.name]}),(0,s.jsxs)("p",{className:"text-[#A03E2D] mb-6",children:[null==c?void 0:c.collegeCourse," •"," ",null==c?void 0:c.currentOccupation]}),(0,s.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[#A03E2D] mb-2",children:"Your Name *"}),(0,s.jsx)("input",{type:"text",name:"studentName",value:p.studentName,onChange:v,required:!0,className:"w-full px-3 py-2 border border-[#A03E2D]/30 rounded-lg focus:outline-none focus:border-[#B23B3B] focus:ring-1 focus:ring-[#B23B3B]",placeholder:"Your full name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[#A03E2D] mb-2",children:"Your Email *"}),(0,s.jsx)("input",{type:"email",name:"studentEmail",value:p.studentEmail,onChange:v,required:!0,className:"w-full px-3 py-2 border border-[#A03E2D]/30 rounded-lg focus:outline-none focus:border-[#B23B3B] focus:ring-1 focus:ring-[#B23B3B]",placeholder:"your@email.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[#A03E2D] mb-2",children:"Contact Number (Optional)"}),(0,s.jsx)("input",{type:"text",name:"studentContact",value:p.studentContact,onChange:v,className:"w-full px-3 py-2 border border-[#A03E2D]/30 rounded-lg focus:outline-none focus:border-[#B23B3B] focus:ring-1 focus:ring-[#B23B3B]",placeholder:"09xxxxxxxxx"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[#A03E2D] mb-2",children:"Research Title *"}),(0,s.jsx)("input",{type:"text",name:"researchTitle",value:p.researchTitle,onChange:v,required:!0,className:"w-full px-3 py-2 border border-[#A03E2D]/30 rounded-lg focus:outline-none focus:border-[#B23B3B] focus:ring-1 focus:ring-[#B23B3B]",placeholder:"Title of your research project"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[#A03E2D] mb-2",children:"Research Description (Optional)"}),(0,s.jsx)("textarea",{name:"researchDescription",value:p.researchDescription,onChange:v,rows:3,className:"w-full px-3 py-2 border border-[#A03E2D]/30 rounded-lg focus:outline-none focus:border-[#B23B3B] focus:ring-1 focus:ring-[#B23B3B]",placeholder:"Describe your research project..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[#A03E2D] mb-2",children:"What You Need From This Alumni *"}),(0,s.jsx)("textarea",{name:"consultationNeeds",value:p.consultationNeeds,onChange:v,required:!0,rows:4,className:"w-full px-3 py-2 border border-[#A03E2D]/30 rounded-lg focus:outline-none focus:border-[#B23B3B] focus:ring-1 focus:ring-[#B23B3B]",placeholder:"e.g., Expert review, industry insights, data validation, interview, etc."})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{type:"submit",disabled:h,className:"flex-1 rounded-lg bg-[#B23B3B] px-6 py-3 text-white font-medium hover:bg-[#8B2E2E] disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:h?"Sending...":"Send Request"}),(0,s.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-3 rounded-lg border border-[#A03E2D] text-[#A03E2D] font-medium hover:bg-[#A03E2D]/5 transition-colors duration-200",children:"Cancel"})]})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-[#B23B3B] mb-4",children:"Search Alumni"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, field of study, or occupation...",value:i,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border-2 border-[#A03E2D] rounded-lg focus:outline-none focus:border-[#B23B3B] focus:ring-2 focus:ring-[#B23B3B]/30"})]}),r?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-[#A03E2D]",children:"Loading alumni..."})}):0===N.length?(0,s.jsxs)("div",{className:"rounded-2xl border-2 border-[#A03E2D] bg-[#FDF4DD] p-12 text-center",children:[(0,s.jsx)("p",{className:"text-lg font-medium text-[#A03E2D]",children:"No alumni found"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-[#A03E2D]/80",children:"Try adjusting your search terms"})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(e=>(0,s.jsxs)("div",{className:"rounded-xl border-2 border-[#A03E2D] bg-white p-6 shadow-lg hover:shadow-xl transition-shadow duration-200",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-[#B23B3B] mb-2",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-[#A03E2D] mb-2",children:[(0,s.jsx)("strong",{children:"Field:"})," ",e.collegeCourse]}),(0,s.jsxs)("p",{className:"text-sm text-[#A03E2D] mb-2",children:[(0,s.jsx)("strong",{children:"Occupation:"})," ",e.currentOccupation]}),e.credentialsInField&&(0,s.jsxs)("p",{className:"text-sm text-[#A03E2D] mb-2",children:[(0,s.jsx)("strong",{children:"Credentials:"})," ",e.credentialsInField]}),(0,s.jsx)("button",{onClick:()=>j(e),disabled:!e.email,className:"w-full mt-4 px-4 py-2 rounded-lg font-medium transition-colors duration-200 ".concat(e.email?"bg-[#B23B3B] text-white hover:bg-[#8B2E2E]":"bg-gray-300 text-gray-600 cursor-not-allowed"),children:e.email?"Request as Consultant":"No Email"})]},e.id))})]})})]}),(0,s.jsx)(o.H,{leftLabel:"School Registrar",leftHref:"/registrar",rightLabel:"Home",rightHref:"/"})]})}},5365:function(e,t,r){"use strict";r.d(t,{H:function(){return l}});var s=r(7437),n=r(7648);function l(e){let{leftLabel:t,leftHref:r,rightLabel:l="Home",rightHref:o="/"}=e;return(0,s.jsxs)("footer",{className:"mt-auto flex w-full items-center justify-between bg-gradient-to-r from-[#FF7F27] to-[#E85D04] px-6 py-5 shadow-lg sm:px-8",children:[(0,s.jsx)(n.default,{href:r,className:"group rounded-full border-2 border-[#B23B3B] bg-white/10 px-6 py-2.5 text-[#8B2E2E] underline decoration-2 underline-offset-2 backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:bg-white/30 hover:shadow-md",children:(0,s.jsx)("span",{className:"inline-block transition-transform duration-300 group-hover:-translate-x-1",children:t})}),(0,s.jsx)(n.default,{href:o,className:"group rounded-full bg-gradient-to-br from-[#B23B3B] to-[#8B2E2E] px-6 py-2.5 text-white underline decoration-2 underline-offset-2 shadow-md shadow-red-500/30 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-red-500/40",children:(0,s.jsx)("span",{className:"inline-block transition-transform duration-300 group-hover:translate-x-1",children:l})})]})}},3116:function(e,t,r){"use strict";r.d(t,{h:function(){return n}});var s=r(7437);function n(e){let{title:t,className:r=""}=e;return(0,s.jsxs)("header",{className:"relative overflow-hidden rounded-t-xl bg-gradient-to-b from-[#B23B3B] to-[#8B2E2E] py-8 text-center text-white shadow-lg ".concat(r),style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.12'/%3E%3C/svg%3E\")"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/10"}),(0,s.jsx)("h1",{className:"relative z-10 px-4 text-lg font-bold leading-snug text-shadow-lg sm:text-xl md:text-2xl",children:t})]})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=867)}),_N_E=e.O()}]);